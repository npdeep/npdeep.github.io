<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Why Even Bother Writing Elegant Code | Bits & Qubits</title>
<meta name=keywords content>
<meta name=description content="At the time of writing, Julia is the only mainstream language with &lsquo;multiple dispatch&rsquo; as a fundamental design philosophy. Yet, it doesn&rsquo;t look like it is any good at it.">
<meta name=author content>
<link rel=canonical href=http://npdeep.github.io/dear-julia/multiple-dispatch/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.6f60056d44d3f7eb69a4bc6c332b59960f3a995802bded244750232f33713c49.css integrity="sha256-b2AFbUTT9+tppLxsMytZlg86mVgCve0kR1AjLzNxPEk=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://npdeep.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://npdeep.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://npdeep.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=http://npdeep.github.io/apple-touch-icon.png>
<link rel=mask-icon href=http://npdeep.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.88.1">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Why Even Bother Writing Elegant Code">
<meta property="og:description" content="At the time of writing, Julia is the only mainstream language with &lsquo;multiple dispatch&rsquo; as a fundamental design philosophy. Yet, it doesn&rsquo;t look like it is any good at it.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://npdeep.github.io/dear-julia/multiple-dispatch/"><meta property="article:section" content="dear-julia">
<meta property="article:published_time" content="2021-10-27T00:00:00+00:00">
<meta property="article:modified_time" content="2021-10-27T00:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Why Even Bother Writing Elegant Code">
<meta name=twitter:description content="At the time of writing, Julia is the only mainstream language with &lsquo;multiple dispatch&rsquo; as a fundamental design philosophy. Yet, it doesn&rsquo;t look like it is any good at it.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"How I Am Trying Hard to Love Julia","item":"http://npdeep.github.io/dear-julia/"},{"@type":"ListItem","position":3,"name":"Why Even Bother Writing Elegant Code","item":"http://npdeep.github.io/dear-julia/multiple-dispatch/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Why Even Bother Writing Elegant Code","name":"Why Even Bother Writing Elegant Code","description":"At the time of writing, Julia is the only mainstream language with \u0026lsquo;multiple dispatch\u0026rsquo; as a fundamental design philosophy. Yet, it doesn\u0026rsquo;t look like it is any good at it.","keywords":[],"articleBody":" As I spend more time with Julia, I am discovering a common theme in my frustrations with the language. When I try to write code the ‘Julian’ way, I don’t get good performance. The things Julia is supposed to be very good at, I am just not seeing it.     Multiple dispath is when a program can have functions of the same name acting on different types.\n  There is a difference between static dispatching, which is done at compile-time when the compiler figures out what the types are, and dynamic dispatching, where the type of an object isn’t defined until runtime.\n  In this demonstration, I am interested in dynamic dispatching.\n  Julia is one of the very few languages with multiple dispatch as a fundamental design philosophy.\n  So I would expect Julia to be very good at it.\n  Let’s make some types for a few shapes.\n  struct Circle radius:: Float64 end struct Square length:: Float64 end struct Rectangle length:: Float64; breadth:: Float64 end struct Pentagon length:: Float64 end struct Hexagon length:: Float64 end  Let’s say I want to write a function double_shape that takes one of these shapes and returns me another shape with twice the dimensions. With multiple dispath, I should be able to write different versions of double_shape acting on different shapes.  function double_shape(shape::Circle) return Circle(2*shape.radius) end function double_shape(shape::Square) return Square(2*shape.length) end function double_shape(shape::Rectangle) return Rectangle(2*shape.length, 2*shape.breadth) end function double_shape(shape::Pentagon) return Pentagon(2*shape.length) end function double_shape(shape::Hexagon) return Hexagon(2*shape.length) end  Fantastic. Let’s test this. We need a way to come up with different types in runtime. We can do that by sampling the types randomly at runtime.  function double_random_shapes(n::Int) for i=1:n shape = rand([Circle(1.0), Square(1.0), Rectangle(1.0, 1.0), Pentagon(1.0), Hexagon(1.0)]) double_shape(shape) end end @btime random_shapes(10000)  1.744 ms (100000 allocations: 4.61 MiB)  This is, from what I can infer, the ‘Julian’ way of doing things. I don’t also understand where the 4.61MiB of allocation is coming from. But that’s a different matter altogeher.    What if we did things differently? What if we defined a different function (with a different name) for each shape? Something like this:  function double_circle(shape::Circle) return Circle(2*shape.radius) end function double_square(shape::Square) return Square(2*shape.length) end function double_rectangle(shape::Rectangle) return Rectangle(2*shape.length, 2*shape.breadth) end function double_pentagon(shape::Pentagon) return Pentagon(2*shape.length) end function double_hexagon(shape::Hexagon) return Hexagon(2*shape.length) end  Now we can use simple if...elseif... blocks to identify the type of a random shape.  function double_random_shapes_new(n::Int) for i=1:n shape = rand([Circle(1.0), Square(1.0), Rectangle(1.0, 1.0), Pentagon(1.0), Hexagon(1.0)]) T = typeof(shape) if T==Circle double_circle(shape) elseif T==Square double_square(shape) elseif T==Rectangle double_rectangle(shape) elseif T==Pentagon double_pentagon(shape) elseif T==Hexagon double_hexagon(shape) end end end  Let’s test this code  @btime double_random_shapes_new(10000) 1.600 ms (90000 allocations: 4.43 MiB)  Not only is it faster, it also seems to be using less memory. Very strange.     Someone is going to say ‘well, there is this macro you have to use if you want fast dynamic dispatching’. Of course there is. But I shouldn’t have to learn macros to do simple things fast.\n  Yes, you should try to write code elegantly as much as possible. But Julia is a language that prides, above all, in performance. It might be the only language that actively discourages error handling. Arguments like elegance, readability, maintainbility or robustness do not work in Julia-land.\n  On a more sincere note, I am sure there is a lot of nuance I am overlooking in this overly dramatic rambling. I am still trying to understnad the language better. Ramblings like these are a part of my learning process.\n  ","wordCount":"567","inLanguage":"en","datePublished":"2021-10-27T00:00:00Z","dateModified":"2021-10-27T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"http://npdeep.github.io/dear-julia/multiple-dispatch/"},"publisher":{"@type":"Organization","name":"Bits \u0026 Qubits","logo":{"@type":"ImageObject","url":"http://npdeep.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://npdeep.github.io accesskey=h title="Bits & Qubits (Alt + H)">Bits & Qubits</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=http://npdeep.github.io/dear-julia/ title="Dear Julia">
<span>Dear Julia</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Why Even Bother Writing Elegant Code
</h1>
<div class=post-meta>October 27, 2021
</div>
</header>
<div class=post-content><ul>
<li>As I spend more time with Julia, I am discovering a common theme in my frustrations with the language.</li>
<li>When I try to write code the &lsquo;Julian&rsquo; way, I don&rsquo;t get good performance. The things Julia is supposed to be very good at, I am just not seeing it.</li>
</ul>
<hr>
<ul>
<li>
<p>Multiple dispath is when a program can have functions of the same name acting on different types.</p>
</li>
<li>
<p>There is a difference between static dispatching, which is done at compile-time when the compiler figures out what the types are, and dynamic dispatching, where the type of an object isn&rsquo;t defined until runtime.</p>
</li>
<li>
<p>In this demonstration, I am interested in dynamic dispatching.</p>
</li>
<li>
<p>Julia is one of the very few languages with multiple dispatch as a fundamental design philosophy.</p>
</li>
<li>
<p>So I would expect Julia to be very good at it.</p>
</li>
<li>
<p>Let&rsquo;s make some types for a few shapes.</p>
</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=color:#66d9ef>struct</span> <span style=color:#66d9ef>Circle</span> radius<span style=color:#f92672>::</span> <span style=color:#66d9ef>Float64</span> <span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>struct</span> <span style=color:#66d9ef>Square</span>  length<span style=color:#f92672>::</span> <span style=color:#66d9ef>Float64</span> <span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>struct</span> <span style=color:#66d9ef>Rectangle</span>  length<span style=color:#f92672>::</span> <span style=color:#66d9ef>Float64</span>; breadth<span style=color:#f92672>::</span> <span style=color:#66d9ef>Float64</span> <span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>struct</span> <span style=color:#66d9ef>Pentagon</span> length<span style=color:#f92672>::</span> <span style=color:#66d9ef>Float64</span> <span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>struct</span> <span style=color:#66d9ef>Hexagon</span> length<span style=color:#f92672>::</span> <span style=color:#66d9ef>Float64</span> <span style=color:#66d9ef>end</span>
</code></pre></div><ul>
<li>Let&rsquo;s say I want to write a function <code>double_shape</code> that takes one of these shapes and returns me another shape with twice the dimensions.</li>
<li>With multiple dispath, I should be able to write different versions of <code>double_shape</code> acting on different shapes.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=color:#66d9ef>function</span> double_shape(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Circle</span>)
    <span style=color:#66d9ef>return</span> Circle(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>radius)
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>function</span> double_shape(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Square</span>)
    <span style=color:#66d9ef>return</span> Square(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>length)
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>function</span> double_shape(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Rectangle</span>)
    <span style=color:#66d9ef>return</span> Rectangle(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>length, <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>breadth)
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>function</span> double_shape(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Pentagon</span>)
    <span style=color:#66d9ef>return</span> Pentagon(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>length)
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>function</span> double_shape(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Hexagon</span>)
    <span style=color:#66d9ef>return</span> Hexagon(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>length)
<span style=color:#66d9ef>end</span>
</code></pre></div><ul>
<li>Fantastic. Let&rsquo;s test this.</li>
<li>We need a way to come up with different types in runtime.</li>
<li>We can do that by sampling the types randomly at runtime.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=color:#66d9ef>function</span> double_random_shapes(n<span style=color:#f92672>::</span><span style=color:#66d9ef>Int</span>)
    <span style=color:#66d9ef>for</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>:</span>n
        shape <span style=color:#f92672>=</span> rand([Circle(<span style=color:#ae81ff>1.0</span>), Square(<span style=color:#ae81ff>1.0</span>), Rectangle(<span style=color:#ae81ff>1.0</span>, <span style=color:#ae81ff>1.0</span>), Pentagon(<span style=color:#ae81ff>1.0</span>), Hexagon(<span style=color:#ae81ff>1.0</span>)])
        double_shape(shape)
    <span style=color:#66d9ef>end</span>
<span style=color:#66d9ef>end</span>

<span style=color:#a6e22e>@btime</span> random_shapes(<span style=color:#ae81ff>10000</span>)
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#ae81ff>1.744</span> ms (<span style=color:#ae81ff>100000</span> allocations<span style=color:#f92672>:</span> <span style=color:#ae81ff>4.61</span> MiB)
</code></pre></div><ul>
<li>This is, from what I can infer, the &lsquo;Julian&rsquo; way of doing things.</li>
<li>I don&rsquo;t also understand where the 4.61MiB of allocation is coming from. But that&rsquo;s a different matter altogeher.</li>
</ul>
<hr>
<ul>
<li>What if we did things differently?</li>
<li>What if we defined a different function (with a different name) for each shape?</li>
<li>Something like this:</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=color:#66d9ef>function</span> double_circle(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Circle</span>)
    <span style=color:#66d9ef>return</span> Circle(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>radius)
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>function</span> double_square(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Square</span>)
    <span style=color:#66d9ef>return</span> Square(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>length)
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>function</span> double_rectangle(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Rectangle</span>)
    <span style=color:#66d9ef>return</span> Rectangle(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>length, <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>breadth)
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>function</span> double_pentagon(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Pentagon</span>)
    <span style=color:#66d9ef>return</span> Pentagon(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>length)
<span style=color:#66d9ef>end</span>

<span style=color:#66d9ef>function</span> double_hexagon(shape<span style=color:#f92672>::</span><span style=color:#66d9ef>Hexagon</span>)
    <span style=color:#66d9ef>return</span> Hexagon(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>shape<span style=color:#f92672>.</span>length)
<span style=color:#66d9ef>end</span>
</code></pre></div><ul>
<li>Now we can use simple <code>if...elseif...</code> blocks to identify the type of a random shape.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=color:#66d9ef>function</span> double_random_shapes_new(n<span style=color:#f92672>::</span><span style=color:#66d9ef>Int</span>)
    <span style=color:#66d9ef>for</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>:</span>n
        shape <span style=color:#f92672>=</span> rand([Circle(<span style=color:#ae81ff>1.0</span>), Square(<span style=color:#ae81ff>1.0</span>), Rectangle(<span style=color:#ae81ff>1.0</span>, <span style=color:#ae81ff>1.0</span>), Pentagon(<span style=color:#ae81ff>1.0</span>), Hexagon(<span style=color:#ae81ff>1.0</span>)])
        T <span style=color:#f92672>=</span> typeof(shape)
        <span style=color:#66d9ef>if</span> T<span style=color:#f92672>==</span>Circle
            double_circle(shape)
        <span style=color:#66d9ef>elseif</span> T<span style=color:#f92672>==</span>Square
            double_square(shape)
        <span style=color:#66d9ef>elseif</span> T<span style=color:#f92672>==</span>Rectangle
            double_rectangle(shape)
        <span style=color:#66d9ef>elseif</span> T<span style=color:#f92672>==</span>Pentagon
            double_pentagon(shape)
        <span style=color:#66d9ef>elseif</span> T<span style=color:#f92672>==</span>Hexagon
            double_hexagon(shape)
        <span style=color:#66d9ef>end</span>
    <span style=color:#66d9ef>end</span>
<span style=color:#66d9ef>end</span>
</code></pre></div><ul>
<li>Let&rsquo;s test this code</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=color:#a6e22e>@btime</span> double_random_shapes_new(<span style=color:#ae81ff>10000</span>)
 <span style=color:#ae81ff>1.600</span> ms (<span style=color:#ae81ff>90000</span> allocations<span style=color:#f92672>:</span> <span style=color:#ae81ff>4.43</span> MiB)
</code></pre></div><ul>
<li>Not only is it faster, it also seems to be using less memory.</li>
<li>Very strange.</li>
</ul>
<hr>
<ul>
<li>
<p>Someone is going to say &lsquo;well, there is this macro you have to use if you want fast dynamic dispatching&rsquo;. Of course there is. But I shouldn&rsquo;t have to learn macros to do simple things fast.</p>
</li>
<li>
<p>Yes, you should try to write code elegantly as much as possible. But Julia is a language that prides, above all, in performance. It might be the only language that actively discourages error handling. Arguments like elegance, readability, maintainbility or robustness do not work in Julia-land.</p>
</li>
<li>
<p><strong>On a more sincere note, I am sure there is a lot of nuance I am overlooking in this overly dramatic rambling. I am still trying to understnad the language better. Ramblings like these are a part of my learning process.</strong></p>
</li>
</ul>
</div>
<footer class=post-footer>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=http://npdeep.github.io>Bits & Qubits</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>